<div class="row selectQuestion" style="overflow-x: hidden;overflow-y: auto;width: 100%">
    <!--提示下载java-->
    <div class="row" style="background-color: #FFF198;font-size: 15px;" id="">
        <div class="container-fluid" id="JDKWordImage" style="display: none">

        </div>
    </div>

    <div class="row" style="margin-top: 30px" >
        <div class="col-sm-1" style="padding: 0px">
            <span class="pull-right" style="font-size: 13px">题干:</span>
        </div>

        <div class="col-sm-10" >
            <input id="questionContentEditContent" type="hidden" name="question_content" />
            <div id="questionContentEdit" name="question_content" style="min-height:150px;border: 1px solid #666; width: 100%; padding: 10px;" contenteditable="true">
                <?php
				if (isset($questionClick['question_content'])) {
					echo $questionClick['question_content'];
				}
			?>
            </div>
        </div>
    </div>
    <div class="row" id="answerBlanksWidget" style="margin-top: 30px" >
        <div class="container-fluid" id="blanksRightAnswer"  style="display:none;padding: 0px;">
            <div class="col-sm-1" style="padding: 0px">
                <span class="pull-right" style="font-size: 13px">答案:</span>
            </div>
            <div class="col-sm-10">

                <input id="blanksTypeAnswerContent" type="hidden" name="selectTypeAnswer" />

                <div id="blanksTypeAnswer" name="selectTypeAnswer" style="border: 1px solid #666; width: 100%; padding: 10px;min-height: 150px" contenteditable="true">
                    <?php
				if (isset($questionClick['answer'])) {
					echo $questionClick['answer'];
				}
			    ?>
                </div>
            </div>
        </div>


        <div class="col-sm-11" id="PhotoLabel" style="display: none">
            <span style="margin-left: 10px;font-size: 13px">选择正确答案：</span>
            <span style="margin-left: 20px"><input onclick="checkboxAnswer(event)" name="selectTypeAnswer" type="checkbox" value="A">A</span>
            <span style="margin-left: 20px"><input onclick="checkboxAnswer(event)" name="selectTypeAnswer" type="checkbox" value="B">B</span>
            <span style="margin-left: 20px"><input onclick="checkboxAnswer(event)" name="selectTypeAnswer" type="checkbox" value="C">C</span>
            <span style="margin-left: 20px"><input onclick="checkboxAnswer(event)" name="selectTypeAnswer" type="checkbox" value="D">D</span>

            <span id="addAnswer" class="glyphicon glyphicon-plus" style="margin-left: 20px;font-size: 15px"></span>
        </div>
    </div>
    <div class="row" style="margin-top: 30px">
        <div class="col-sm-1" style="padding: 0px">
            <span class="pull-right" style="font-size: 13px">解析:</span>
        </div>
        <div class="col-sm-10" >

               <input id="answerTextEditContent" type="hidden" name="answer_text" />

                <div id="answerTextEdit" name="answer_text" style="min-height:150px;border: 1px solid #666; width: 100%; padding: 10px;" contenteditable="true">
                <?php
				if (isset($questionClick['answer_text'])) {
					echo $questionClick['answer_text'];
				}
			?>
            </div>
        </div>
    </div>
    <input id="grade_list_id" name="grade_list_id" value="{$grade_list_id}" type="hidden">
    <input value="" name="knowledgeLevel1ID" id="knowledgeLevel1ID" type="hidden">
    <input value="" name="knowledgeLevel2ID" id="knowledgeLevel2ID" type="hidden">
    <input value="" id="knowledgeLevel3ID" name="knowledgeLevel3ID" type="hidden">
    <input value="" id="questionType" name="questionType" type="hidden">
    <input value="" id="questionTypeName" name="questionTypeName" type="hidden">
    <input value="" id="questionDifficult" name="questionDifficult" type="hidden">
    <input value="" id="questionDifficultName" name="questionDifficultName" type="hidden">
    <input value="" id="where_name_text" name="where_name_text" type="hidden">


    <div class="row " style="">
        <div class="container-fluid navbar-fixed-bottom " style="height: 46px;padding: 0px">
            <div class="col-sm-9 col-sm-offset-2 pull-right" style="border-top: 1px solid #C8CBCB;height: 46px;background-color: #f3f3f3;margin-left: 0px;filter:alpha(opacity=0);-moz-opacity:0.9;-khtml-opacity: 0.9;opacity: 0.9;">
                <div class="col-sm-3  pull-right" style="height: 45px;text-align: center">

                    <a href="#"  class="btn" onclick='questionSave(event)' type="submit" style="font-weight: bolder;font-size: 18px;color: #0077e5">保存</a>

                </div>
                <div class="col-sm-3 pull-right" style="height: 45px;">
                    <a id="questionViewSelect" href="#" class="btn pull-right" data-toggle="modal" data-target="#questionView" style="font-weight: bolder;font-size: 18px;color: #0077e5">
                        预览</a>
                </div>
                <div class="col-sm-4 pull-right" style="height: 45px;text-align: center">

                </div>
            </div>



        </div>

    </div>

</div>



<script type="text/javascript">
    /* CKEDITOR.config.toolbar_Full =
     [
     { name: 'document', items : [ 'Source'] },
     { name: 'clipboard', items : [ 'Cut','Copy','Paste','-','Undo','Redo' ] },
     { name: 'editing', items : [ 'Find'] },
     { name: 'basicstyles', items : [ 'Bold','Italic','Underline'] },
     { name: 'paragraph', items : [ 'JustifyLeft','JustifyCenter','JustifyRight'] },
     { name: 'styles', items : [ 'Font','FontSize' ] },
     { name: 'colors', items : [ 'TextColor','BGColor' ] }
     ];*/

    CKEDITOR.config.toolbar_Full =
            [
                { name: 'document', items : [ 'Source'] },
                { name: 'clipboard', items : [ 'Cut','Copy','Paste','-','Undo','Redo' ] },
                { name: 'editing', items : [ 'Find'] },
                { name: 'basicstyles', items : [ 'Bold','Italic','Underline'] },
                { name: 'paragraph', items : [ 'JustifyLeft','JustifyCenter','JustifyRight'] }
            ];
    var questionContentEdit =  CKEDITOR.inline('questionContentEdit', {
        language: 'zh',
        toolbar:'Full'
    });

    var answerTextEdit = CKEDITOR.inline('answerTextEdit', {
        language: 'zh',
        toolbar:'Full'
    });
    var blanksTypeAnswerEdit = CKEDITOR.inline('blanksTypeAnswer', {
        language: 'zh',
        toolbar:'Full'
    });

    /*CKEDITOR.inline('questionContentEdit', {
        language: 'zh'

    });
    CKEDITOR.inline('answerTextEdit', {
        language: 'zh'


    });
    CKEDITOR.inline('blanksTypeAnswer', {
        language: 'zh'*//*,
        toolbar:'Full'*//*

    });*/

    /*var exampleContainer = document.getElementById('questionContentEdit');

    if (exampleContainer.innerHTML.trim().length == 0) {
        exampleContainer.innerHTML = document.getElementById('questionContentEditContent').innerHTML;
    }
    var exampleContainer = document.getElementById('questionContentEdit');

    if (exampleContainer.innerHTML.trim().length == 0) {
        exampleContainer.innerHTML = document.getElementById('questionContentEditContent').innerHTML;
    }
    var exampleContainer = document.getElementById('questionContentEdit');

    if (exampleContainer.innerHTML.trim().length == 0) {
        exampleContainer.innerHTML = document.getElementById('questionContentEditContent').innerHTML;
    }*/




    //构建图片上传地址
    var sUrl ='__ROOT__/phpUpload/upload_json.php';
    //构建应用名称，如本系统名称为‘wordimg’，如果为根应用，请写为空字符串''
    var appName = '__APP__/';
    var imageURL = "__ROOT__/"
    //创建WordImageUploader对象\
    var uploader = new WordImageUploader(sUrl, appName,imageURL);
    //var uploader2 = new WordImageUploader(sUrl, appName,imageURL);


    //当ckeditor内容改变时，自动检测并上传内容中的本地图片
    CKEDITOR.instances['questionContentEdit'].on("change", function() {
        uploader.uploadWordImagesFromCKEditor(CKEDITOR.instances['questionContentEdit'], '');
        document.getElementById('questionContentEditContent').value = CKEDITOR.instances.questionContentEdit.getData();

    });

    CKEDITOR.instances['answerTextEdit'].on("change", function() {
        uploader.uploadWordImagesFromCKEditor(CKEDITOR.instances['answerTextEdit'], '');
        document.getElementById('answerTextEditContent').value = CKEDITOR.instances.answerTextEdit.getData();

    });
    CKEDITOR.instances['blanksTypeAnswer'].on("change", function() {
        uploader.uploadWordImagesFromCKEditor(CKEDITOR.instances['blanksTypeAnswer'], '');
        document.getElementById('blanksTypeAnswerContent').value = CKEDITOR.instances.blanksTypeAnswer.getData();

    });

    $("#questionContentEdit").change(function(){

        //$('#questionContentEditContent').value = $("#questionContentEdit").getData();
        var txt = $("#questionContentEdit").getData();
        txt = txt.replace(new RegExp('width=\"1\"',"gm"), ' ');
        txt = txt.replace(new RegExp('width=\"\"',"gm"), ' ');
        $('#questionContentEditContent').value = txt;

    });
    $("#answerTextEdit").change(function(){
        //$('#answerTextEditContent').value = $("#answerTextEdit").getData();
        var txt = $("#answerTextEdit").getData();
        txt = txt.replace(new RegExp('width=\"1\"',"gm"), ' ');
        txt = txt.replace(new RegExp('width=\"\"',"gm"), ' ');
        $('#answerTextEditContent').value = txt;
    });
    $("#blanksTypeAnswer").change(function(){
        //$('#blanksTypeAnswerContent').value = $("#blanksTypeAnswer").getData();
        var txt = $("#blanksTypeAnswer").getData();
        txt = txt.replace(new RegExp('width=\"1\"',"gm"), ' ');
        txt = txt.replace(new RegExp('width=\"\"',"gm"), ' ');
        $('#blanksTypeAnswerContent').value = txt;
    });


    $("#questionViewSelect").click(function(){

        /*var txt = null;
        txt = document.getElementById('questionContentEditContent').value;
        txt = txt.replace(new RegExp('width=\"1\"',"gm"), ' ');
        $("#modalQuestionContent").html(txt);
        txt = document.getElementById('answerTextEditContent').value;
        txt = txt.replace(new RegExp('width=\"1\"',"gm"), ' ');
        $("#modalQuestionAnswerText").html(txt);
        txt = document.getElementById('blanksTypeAnswerContent').value;
        txt = txt.replace(new RegExp('width=\"1\"',"gm"), ' ');
        $("#modalQuestionAnswer").html(txt);*/
        $("#modalQuestionContent").html(document.getElementById('questionContentEditContent').value);
        $("#modalQuestionAnswerText").html(document.getElementById('answerTextEditContent').value);
        $("#modalQuestionAnswer").html(document.getElementById('blanksTypeAnswerContent').value);


    });

    $('#cke_37').css('display','none');
    $('#cke_40').hide();
    $('#cke_77').hide();
    $('#cke_88').hide();
    $('#cke_110').hide();
    $('#cke_113').hide();

</script>
